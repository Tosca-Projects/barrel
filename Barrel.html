<!DOCTYPE html>
<html>
<head>
    <title>Barrel</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!--LINKS-->
    <link rel="shortcut icon" href="img/barrel_icon.ico"/>
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/joint.css" rel="stylesheet" type="text/css">
    <link href="css/devs.css" rel="stylesheet" type="text/css">
    <link href="css/editor.css" rel="stylesheet" type="text/css">
    <!--jQuery-->
    <script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="lib/jquery/jquery-ui.min.js"></script>
    <!--React-->
    <script type="text/javascript" src="lib/react/react.min.js"></script>
    <script type="text/javascript" src="lib/react/react-dom.min.js"></script>
    <script type="text/javascript" src="lib/react/browser.min.js"></script>
    <!--Required JS Libraries-->
    <script type="text/javascript" src="lib/FileSaver.min.js"></script>
    <script type="text/javascript" src="lib/lodash.min.js"></script>
    <script type="text/javascript" src="lib/backbone-min.js"></script>
    <script type="text/javascript" src="lib/bootstrap.min.js"></script>
    <!--JS libraries for graphics-->
    <script type="text/javascript" src="lib/joint.js"></script>
    <script type="text/javascript" src="lib/graphlib/dist/graphlib.core.min.js"></script>
    <script type="text/javascript" src="lib/dagre/dist/dagre.core.min.js"></script>
    <script type="text/javascript" src="lib/joint.layout.DirectedGraph.min.js"></script>
    <script type="text/javascript" src="lib/jsplumb/dist/js/jquery.jsPlumb-1.7.2-min.js"></script>
    <script type="text/javascript" src="lib/zip.js"></script>
    <script type="text/javascript" src="lib/zip-fs.js"></script>
    <!--Typescript generated-->
    <script type="text/javascript" src="TOSCA.js"></script>
    <script type="text/javascript" src="Csar.js"></script>
    <script type="text/javascript" src="ManagementProtocols.js"></script>
    <script type="text/javascript" src="TOSCAAnalysis.js"></script>
    <script type="text/javascript" src="Analysis.js"></script>
    <script type="text/javascript" src="Simulator.js"></script>
    <script type="text/javascript" src="Utils.js"></script>
    <!--JS Inline-->
    <script type="text/javascript">
        function qualifyURL(url) {
            var img = document.createElement('img');
	        img.src = url; // set string url
	        url = img.src; // get qualified url
	        img.src = null; // no server request
	        return url;
        }
        zip.workerScriptsPath = qualifyURL("lib/z-worker.js").slice(0, -("z-worker.js".length));
    </script>
</head>
<body>
    <!--Navigation bar-->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Barrel</a>
            </div>

            <div id="barrelMenu"></div>
        </div>
    </nav>

    <div class="jumbotron hidden">
    <div class="container" style="background-color: white">
    <div class="tab-content">
        <div class="tab-pane" id="visualiser">
            <!--Application topology-->
            <h1 class="col-lg-10 hidden">Visualiser</h1>
            <form class="col-lg-10">
                <fieldset>
                    <legend class="hidden">
                        <a class="legend" id="application-name"></a>: Application topology
                    </legend>
                    <table>
                        <tr>
                            <td style="width:40%">
                                <div id="app-topology" style="position: relative"></div>
                            </td>
                            <td style="width:60%">
                                <div style="font-size:90%;margin-left:10px">
                                    <table class="table table-striped table-hover hidden">
                                        <thead>
                                            <tr class="btn-primary disabled">
                                                <th>Node</th>
                                                <th>Node type</th>
                                                <th>Capabilities</th>
                                                <th>Requirements</th>
                                                <th>Operations</th>
                                            </tr>
                                        </thead>
                                        <tbody id="topology-table-body"></tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </form>
        </div>

    <!-- Editor -->
        <div class="tab-pane" id="editor">
            <h1 class="col-lg-10 hidden">Editor</h1>
            <div id="barrelEditor"></div>
        </div>

    <!--Simulator-->
        <div class="tab-pane" id="simulator">
            <h1 class="col-lg-10 hidden">Simulator</h1>
            <table class="table table-striped table-hover ">
                <thead>
                    <tr>
                        <th style="width:10%"></th>
                        <th style="width:10%">State</th>
                        <th style="width:25%">Offered capabilities</th>
                        <th style="width:25%">Assumed requirements</th>
                        <th style="width:30%">Available operations</th>
                    </tr>
                </thead>
                <tbody id="simulator-body">
                </tbody>
            </table>
            <div class="form-horizontal col-lg-10 hidden" style="text-align:center">
                <button type="button" class="btn btn-default btn-xs" onclick="buildSimulator()">Clear</button>
            </div>
        </div>

    <!--Analyser-->
        <div class="tab-pane" id="analyser">
            <h1 class="col-lg-10 hidden">Analyser</h1>
            <div class="col-lg-10 hidden" style="color:red;font-weight:bold">THIS IS A PLACEHOLDER FOR ALL TO-BE-IMPLEMENTED ANALYSES</div>
        </div>
    </div></div></div>

    <!--"About" dialog-->
    <div id="modal-info" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>
                        This editor has been developed in the scope of the research paper "TBD TBD TBD".
                    </p>
                    <center>
                        <p>

                            You can download a sample CSAR by clicking <a href="https://github.com/ranma42/MProt/blob/wip/localzip/test/MotivatingScenario.csar?raw=true">here</a>.
                        </p>
                    </center>
                    <p>
                        Copyright &copy;: A. Canciani, J. Soldani (Dip. di Informatica, Universit&agrave; di Pisa, Italia).
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- UI + react UI -->
	<script type="text/javascript" src="Barrel.js"></script>
    <script type="text/babel" src="Barrel-react.js"></script>
    <script type="text/babel" src="Barrel-simulator.js"></script>
    <script type="text/babel" src="Barrel-visualiser.js"></script>
</body>
</html>
